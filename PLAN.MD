Make a python based application that has two endpoints:
 - /api - The OpenAI compatible API endpoint
 - /dashboard - The dashboard that allows the user to create new API keys with a name and custom rate limits. A usage panel with logs on the models most used.

To implement dashboard, you must do the following:
On startup of the python server, you must use camoufox to open "lmarena.ai" and you must save the cloudflare cf_clearance cookie. You must then run the regex:
r'\{\\"initialModels\\":(\[.*?\]),\\"initialModelAId'
on the body of the page once it loads.
You must then Get the matched JSON string and unescape it. Save this into the list of models. An example of what this will look like is in samples/models.txt
match.group(1).encode().decode('unicode_escape')
The implementation requires explicit rendering of the Turnstile widget off-screen to generate an invisible token. First, define a function, for instance, createHiddenTurnstileWidget, to execute once the Cloudflare API script is fully loaded (e.g., via an onload callback on the script tag). Inside this function, dynamically create a div element with a unique ID and inject it into the document.body. Crucially, apply CSS styles to this container to make it invisible and non-interactive, specifically by setting position: absolute, large negative top/left values (e.g., -9999px), and pointer-events: none. Finally, programmatically invoke window.turnstile.render(containerId, { sitekey: '0x4AAAAAAA65vWDmG-O_lPtT', callback: 'tokenCaptureFunction' }) to initiate the challenge. The specified tokenCaptureFunction must then store the returned token into a global variable for later use in API requests.
You can then close the browser once you have this data.
Now, (still in initialization), you must generate an auth token. This must be saved into a file so it can be used later on.
You must then post to https://lmarena.ai/nextjs-api/sign-up. Keep in mind that the cloudflare clearance cookie should be used for everything. You must send the body as:
{"turnstile_token":"TOKEN FROM THE CLOUDFLARE WIDGET FROM EARLIER"}
Sample response:
{"access_token":"eyJhbGciOiJFUzI1NiIsImtpZCI6IjA5YTI3OTYzLTczNmYtNGM0Zi05NGIyLWJmYzRiMWI2MWY4OCIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL2h1b2d6b2VxemNyZHZrd3R2b2RpLnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiJlMWQ1YmNjYi1lYWE2LTRkYzctYWM3Ny0wZTYwY2ViNzZlMTgiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyMDQxNTI2LCJpYXQiOjE3NjIwMzc5MjYsImVtYWlsIjoiIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnt9LCJ1c2VyX21ldGFkYXRhIjp7ImlkIjoiOWJjODRjMDEtN2E2MC00OTZiLTkxMzAtMjI3YWFiODEyMTI5In0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoiYW5vbnltb3VzIiwidGltZXN0YW1wIjoxNzYyMDM3OTI2fV0sInNlc3Npb25faWQiOiJmNjQ0NDI2ZS00MzBiLTRlYTctOGVmOS0wZjg4OGM0Njc5N2UiLCJpc19hbm9ueW1vdXMiOnRydWV9.Iovk49cPp8-mlHnFBR773oupXbm3WFWQxirCFI1DdObCL8OZiO7EVohJ7oBukweG1edCVPuoJiG3-AUp-pdYbA","token_type":"bearer","expires_in":3600,"expires_at":1762041526,"refresh_token":"ommeleevyoik","user":{"id":"e1d5bccb-eaa6-4dc7-ac77-0e60ceb76e18","app_metadata":{},"user_metadata":{"id":"9bc84c01-7a60-496b-9130-227aab812129"},"aud":"authenticated","email":"","phone":"","created_at":"2025-11-01T22:58:46.645813Z","last_sign_in_at":"2025-11-01T22:58:46.647128812Z","role":"authenticated","updated_at":"2025-11-01T22:58:46.648477Z","identities":[],"is_anonymous":true}}
The cookie should be saved like:
arena-auth-prod-v1:"base64-eyJhY2Nlc3NfdG9rZW4iOiJleUpoYkdjaU9pSkZVekkxTmlJc0ltdHBaQ0k2SWpBNVlUSTNPVFl6TFRjek5tWXROR00wWmkwNU5HSXlMV0ptWXpSaU1XSTJNV1k0T0NJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUpvZEhSd2N6b3ZMMmgxYjJkNmIyVnhlbU55WkhacmQzUjJiMlJwTG5OMWNHRmlZWE5sTG1OdkwyRjFkR2d2ZGpFaUxDSnpkV0lpT2lKbE1XUTFZbU5qWWkxbFlXRTJMVFJrWXpjdFlXTTNOeTB3WlRZd1kyVmlOelpsTVRnaUxDSmhkV1FpT2lKaGRYUm9aVzUwYVdOaGRHVmtJaXdpWlhod0lqb3hOell5TURReE5USTJMQ0pwWVhRaU9qRTNOakl3TXpjNU1qWXNJbVZ0WVdsc0lqb2lJaXdpY0dodmJtVWlPaUlpTENKaGNIQmZiV1YwWVdSaGRHRWlPbnQ5TENKMWMyVnlYMjFsZEdGa1lYUmhJanA3SW1sa0lqb2lPV0pqT0RSak1ERXROMkUyTUMwME9UWmlMVGt4TXpBdE1qSTNZV0ZpT0RFeU1USTVJbjBzSW5KdmJHVWlPaUpoZFhSb1pXNTBhV05oZEdWa0lpd2lZV0ZzSWpvaVlXRnNNU0lzSW1GdGNpSTZXM3NpYldWMGFHOWtJam9pWVc1dmJubHRiM1Z6SWl3aWRHbHRaWE4wWVcxd0lqb3hOell5TURNM09USTJmVjBzSW5ObGMzTnBiMjVmYVdRaU9pSm1OalEwTkRJMlpTMDBNekJpTFRSbFlUY3RPR1ZtT1Mwd1pqZzRPR00wTmpjNU4yVWlMQ0pwYzE5aGJtOXVlVzF2ZFhNaU9uUnlkV1Y5Lklvdms0OWNQcDgtbWxIbkZCUjc3M291cFhibTNXRldReGlyQ0ZJMURkT2JDTDhPWmlPN0VWb2hKN29CdWt3ZUcxZWRDVlB1b0ppRzMtQVVwLXBkWWJBIiwidG9rZW5fdHlwZSI6ImJlYXJlciIsImV4cGlyZXNfaW4iOjM2MDAsImV4cGlyZXNfYXQiOjE3NjIwNDE1MjYsInJlZnJlc2hfdG9rZW4iOiJvbW1lbGVldnlvaWsiLCJ1c2VyIjp7ImlkIjoiZTFkNWJjY2ItZWFhNi00ZGM3LWFjNzctMGU2MGNlYjc2ZTE4IiwiYXVkIjoiYXV0aGVudGljYXRlZCIsInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiZW1haWwiOiIiLCJwaG9uZSI6IiIsImxhc3Rfc2lnbl9pbl9hdCI6IjIwMjUtMTEtMDFUMjI6NTg6NDYuNjQ3MTI4ODEyWiIsImFwcF9tZXRhZGF0YSI6e30sInVzZXJfbWV0YWRhdGEiOnsiaWQiOiI5YmM4NGMwMS03YTYwLTQ5NmItOTEzMC0yMjdhYWI4MTIxMjkifSwiaWRlbnRpdGllcyI6W10sImNyZWF0ZWRfYXQiOiIyMDI1LTExLTAxVDIyOjU4OjQ2LjY0NTgxM1oiLCJ1cGRhdGVkX2F0IjoiMjAyNS0xMS0wMVQyMjo1ODo0Ni42NDg0NzdaIiwiaXNfYW5vbnltb3VzIjp0cnVlfX0"

You must save this auth key into a config file. This should be modifiable from the password protected dashboard.

Now to create a chat you must send a request like the one in samples/eval-create.har This should only be for the first message. You should then process the response which is again in the har file. You need to generate UUIDs for some of these values, and the models come from the models you extracted earlier.
To send further messages, you need to send a new request like the one in samples/followup.har

For now this should be all.